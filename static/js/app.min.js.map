{"version":3,"sources":["main.js"],"names":["$","document","ready","toast","options","settings","extend","icon","title","time","position","onClose","Toast","Swal","mixin","showConfirmButton","showCloseButton","timer","timerProgressBar","didOpen","onmouseenter","stopTimer","onmouseleave","resumeTimer","didClose","fire","submit","event","preventDefault","this","attr","form","formData","FormData","jsonData","Object","fromEntries","entries","ajax","url","type","data","JSON","stringify","processData","contentType","success","response","reset","window","location","href","error","xhr","status","console","login"],"mappings":"AAAAA,EAAAC,UAAAC,MAAA,WAoDA,SAAAC,EAAAC,GACA,MAAAC,EAAAL,EAAAM,OACA,CACAC,KAAA,OACAC,MAAA,YACAC,KAAA,IACAC,SAAA,UACAC,QAAA,MAEAP,GAGAQ,EAAAC,KAAAC,MAAA,CACAX,OAAA,EACAO,SAAAL,EAAAK,SACAK,mBAAA,EACAC,iBAAA,EACAC,MAAAZ,EAAAI,KACAS,kBAAA,EACAC,QAAAhB,IACAA,EAAAiB,aAAAP,KAAAQ,UACAlB,EAAAmB,aAAAT,KAAAU,aAEAC,SAAA,KACA,mBAAAnB,EAAAM,SAAAN,EAAAM,aAGAC,EAAAa,KAAA,CACAlB,KAAAF,EAAAE,KACAC,MAAAH,EAAAG,OAEA,CAlFAR,EAAA,QAAA0B,OAAA,SAAAC,GACAA,EAAAC,iBAGA,GACA,UAHA5B,EAAA6B,MAAAC,KAAA,WAYA,SAAAC,GACA,MAAAC,EAAA,IAAAC,SAAAF,GACAG,EAAAC,OAAAC,YAAAJ,EAAAK,WAEArC,EAAAsC,KAAA,CACAC,IAAA,gBACAC,KAAA,OACAC,KAAAC,KAAAC,UAAAT,GACAU,aAAA,EACAC,YAAA,mBACAC,QAAA,SAAAC,GAEA/C,EAAA+B,GAAA,GAAAiB,QACA7C,EAAA,CACAI,KAAA,UACAC,MAAA,iCACAC,KAAA,IACAC,SAAA,aACAC,QAAA,WACAsC,OAAAC,SAAAC,KAAA,eACA,GAEA,EACAC,MAAA,SAAAC,EAAAC,EAAAF,EAAAL,GACA5C,EAAA,CACAI,KAAA,QACAC,MAAA,4CAAA6C,EAAAC,SACA7C,KAAA,IACAC,SAAA,WAEA6C,QAAAH,MAAA,+CACAG,QAAAH,MAAAA,EACA,GAEA,CA1CAI,CAAA3B,KAMA,EAuEA","file":"app.min.js","sourcesContent":["$(document).ready(function () {\r\n    $(\"form\").submit(function (event) {\r\n        event.preventDefault();\r\n        const actionForm = $(this).attr(\"action\");\r\n\r\n        switch (actionForm) {\r\n            case \"login\":\r\n                login(this);\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n    });\r\n\r\n    function login(form) {\r\n        const formData = new FormData(form);\r\n        const jsonData = Object.fromEntries(formData.entries());\r\n        \r\n        $.ajax({\r\n            url: \"php/login.php\",\r\n            type: \"POST\",\r\n            data: JSON.stringify(jsonData),\r\n            processData: false,\r\n            contentType: \"application/json\",\r\n            success: function (response) {\r\n\r\n                $(form)[0].reset();\r\n                toast({\r\n                    icon: \"success\",\r\n                    title: \"Se inicio sesion correctamente\",\r\n                    time: 2000,\r\n                    position: \"top-center\",\r\n                    onClose: function() {\r\n                        window.location.href = \"dashboard.php\";\r\n                    }\r\n                });\r\n            },\r\n            error: function (xhr, status, error, response) {\r\n                toast({\r\n                    icon: \"error\",\r\n                    title: `Error al intentar Iniciar sesion. Codigo ${xhr.status}`,\r\n                    time: 5000,\r\n                    position: \"center\"\r\n                });\r\n                console.error(\"--- Este es el error resultante de ajax ---\");\r\n                console.error(error);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Funcion de Alertas con sweetaler2\r\n    function toast(options) {\r\n        const settings = $.extend(\r\n            {\r\n                icon: \"info\",\r\n                title: \"The title\",\r\n                time: 3000,\r\n                position: \"top-end\",\r\n                onClose: null,\r\n            },\r\n            options\r\n        );\r\n\r\n        const Toast = Swal.mixin({\r\n            toast: true,\r\n            position: settings.position,\r\n            showConfirmButton: false,\r\n            showCloseButton: true,\r\n            timer: settings.time,\r\n            timerProgressBar: true,\r\n            didOpen: (toast) => {\r\n                toast.onmouseenter = Swal.stopTimer;\r\n                toast.onmouseleave = Swal.resumeTimer;\r\n            },\r\n            didClose: () => {\r\n                if(typeof settings.onClose === \"function\") {settings.onClose()}\r\n            },\r\n        });\r\n        Toast.fire({\r\n            icon: settings.icon,\r\n            title: settings.title,\r\n        });\r\n    }\r\n});\r\n"]}